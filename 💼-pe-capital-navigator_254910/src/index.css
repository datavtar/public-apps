
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Enhanced Design System
 * A comprehensive design system for modern web applications
 * Covers 90%+ of common UI patterns and requirements
 */

:root {
  /* === TYPOGRAPHY SCALE === */
  --font-size-xs: 0.75rem;      /* 12px */
  --font-size-sm: 0.875rem;     /* 14px */
  --font-size-base: 1rem;       /* 16px */
  --font-size-lg: 1.125rem;     /* 18px */
  --font-size-xl: 1.25rem;      /* 20px */
  --font-size-2xl: 1.5rem;      /* 24px */
  --font-size-3xl: 1.875rem;    /* 30px */
  --font-size-4xl: 2.25rem;     /* 36px */
  --font-size-5xl: 3rem;        /* 48px */
  --font-size-6xl: 3.75rem;     /* 60px */
  
  --line-height-none: 1;
  --line-height-tight: 1.25;
  --line-height-snug: 1.375;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.625;
  --line-height-loose: 2;
  
  --letter-spacing-tighter: -0.05em;
  --letter-spacing-tight: -0.025em;
  --letter-spacing-normal: 0em;
  --letter-spacing-wide: 0.025em;
  --letter-spacing-wider: 0.05em;
  --letter-spacing-widest: 0.1em;
  
  --font-weight-thin: 100;
  --font-weight-light: 300;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --font-weight-extrabold: 800;
  --font-weight-black: 900;

  /* === COLOR SYSTEM === */
  /* Primary Brand Colors */
  --color-primary-50: #eff6ff;
  --color-primary-100: #dbeafe;
  --color-primary-200: #bfdbfe;
  --color-primary-300: #93c5fd;
  --color-primary-400: #60a5fa;
  --color-primary-500: #3b82f6;
  --color-primary-600: #2563eb;
  --color-primary-700: #1d4ed8;
  --color-primary-800: #1e40af;
  --color-primary-900: #1e3a8a;
  --color-primary-950: #172554;

  /* Secondary Colors */
  --color-secondary-50: #f8fafc;
  --color-secondary-100: #f1f5f9;
  --color-secondary-200: #e2e8f0;
  --color-secondary-300: #cbd5e1;
  --color-secondary-400: #94a3b8;
  --color-secondary-500: #64748b;
  --color-secondary-600: #475569;
  --color-secondary-700: #334155;
  --color-secondary-800: #1e293b;
  --color-secondary-900: #0f172a;
  --color-secondary-950: #020617;

  /* Semantic Colors */
  --color-success-50: #f0fdf4;
  --color-success-500: #22c55e;
  --color-success-600: #16a34a;
  --color-success-700: #15803d;
  --color-success-900: #14532d;

  --color-warning-50: #fffbeb;
  --color-warning-500: #f59e0b;
  --color-warning-600: #d97706;
  --color-warning-700: #b45309;
  --color-warning-900: #78350f;

  --color-error-50: #fef2f2;
  --color-error-500: #ef4444;
  --color-error-600: #dc2626;
  --color-error-700: #b91c1c;
  --color-error-900: #7f1d1d;

  --color-info-50: #eff6ff;
  --color-info-500: #3b82f6;
  --color-info-600: #2563eb;
  --color-info-700: #1d4ed8;
  --color-info-900: #1e3a8a;

  /* Neutral Colors */
  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #4b5563;
  --color-gray-700: #374151;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;
  --color-gray-950: #030712;

  /* Semantic Text & Background Colors */
  --color-text-primary: var(--color-gray-900);
  --color-text-secondary: var(--color-gray-600);
  --color-text-muted: var(--color-gray-500);
  --color-text-inverse: #ffffff;
  
  --color-bg-primary: #ffffff;
  --color-bg-secondary: var(--color-gray-50);
  --color-bg-tertiary: var(--color-gray-100);
  --color-bg-inverse: var(--color-gray-900);
  
  --color-border-primary: var(--color-gray-200);
  --color-border-secondary: var(--color-gray-300);
  --color-border-muted: var(--color-gray-100);

  /* === SPACING SCALE === */
  --spacing-0: 0;
  --spacing-px: 1px;
  --spacing-0_5: 0.125rem;   /* 2px */
  --spacing-1: 0.25rem;      /* 4px */
  --spacing-1_5: 0.375rem;   /* 6px */
  --spacing-2: 0.5rem;       /* 8px */
  --spacing-2_5: 0.625rem;   /* 10px */
  --spacing-3: 0.75rem;      /* 12px */
  --spacing-3_5: 0.875rem;   /* 14px */
  --spacing-4: 1rem;         /* 16px */
  --spacing-5: 1.25rem;      /* 20px */
  --spacing-6: 1.5rem;       /* 24px */
  --spacing-7: 1.75rem;      /* 28px */
  --spacing-8: 2rem;         /* 32px */
  --spacing-9: 2.25rem;      /* 36px */
  --spacing-10: 2.5rem;      /* 40px */
  --spacing-12: 3rem;        /* 48px */
  --spacing-14: 3.5rem;      /* 56px */
  --spacing-16: 4rem;        /* 64px */
  --spacing-20: 5rem;        /* 80px */
  --spacing-24: 6rem;        /* 96px */
  --spacing-32: 8rem;        /* 128px */
  --spacing-40: 10rem;       /* 160px */
  --spacing-48: 12rem;       /* 192px */
  --spacing-56: 14rem;       /* 224px */
  --spacing-64: 16rem;       /* 256px */

  /* === BORDER RADIUS === */
  --radius-none: 0;
  --radius-sm: 0.125rem;     /* 2px */
  --radius-base: 0.25rem;    /* 4px */
  --radius-md: 0.375rem;     /* 6px */
  --radius-lg: 0.5rem;       /* 8px */
  --radius-xl: 0.75rem;      /* 12px */
  --radius-2xl: 1rem;        /* 16px */
  --radius-3xl: 1.5rem;      /* 24px */
  --radius-full: 9999px;

  /* === SHADOWS === */
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  --shadow-base: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);

  /* === Z-INDEX SCALE === */
  --z-0: 0;
  --z-10: 10;
  --z-20: 20;
  --z-30: 30;
  --z-40: 40;
  --z-50: 50;
  --z-dropdown: 1000;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-modal-backdrop: 1040;
  --z-modal: 1050;
  --z-popover: 1060;
  --z-tooltip: 1070;
  --z-toast: 1080;

  /* === TRANSITIONS === */
  --transition-none: none;
  --transition-all: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-colors: color, background-color, border-color, text-decoration-color, fill, stroke 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-opacity: opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-shadow: box-shadow 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-transform: transform 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: all 300ms cubic-bezier(0.4, 0, 0.2, 1);

  /* === BREAKPOINTS (for reference) === */
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1536px;
}

/* === DARK MODE VARIABLES === */
.dark {
  --color-text-primary: var(--color-gray-100);
  --color-text-secondary: var(--color-gray-300);
  --color-text-muted: var(--color-gray-400);
  --color-text-inverse: var(--color-gray-900);
  
  --color-bg-primary: var(--color-gray-900);
  --color-bg-secondary: var(--color-gray-800);
  --color-bg-tertiary: var(--color-gray-700);
  --color-bg-inverse: #ffffff;
  
  --color-border-primary: var(--color-gray-700);
  --color-border-secondary: var(--color-gray-600);
  --color-border-muted: var(--color-gray-800);
}

/* === BASE STYLES === */
body {
  margin: 0;
  font-family: 'Inter var', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  color: var(--color-text-primary);
  background-color: var(--color-bg-primary);
  transition: var(--transition-colors);
  line-height: var(--line-height-normal);
  font-size: var(--font-size-base);
}

code {
  font-family: 'Fira Code', source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;
}

/* === COMPONENT LAYER === */
@layer components {
  
  /* === TYPOGRAPHY COMPONENTS === */
  .heading-1 {
    @apply text-4xl md:text-5xl font-bold tracking-tight;
    line-height: var(--line-height-tight);
  }
  
  .heading-2 {
    @apply text-3xl md:text-4xl font-bold tracking-tight;
    line-height: var(--line-height-tight);
  }
  
  .heading-3 {
    @apply text-2xl md:text-3xl font-semibold tracking-tight;
    line-height: var(--line-height-snug);
  }
  
  .heading-4 {
    @apply text-xl md:text-2xl font-semibold tracking-tight;
    line-height: var(--line-height-snug);
  }
  
  .heading-5 {
    @apply text-lg md:text-xl font-medium;
    line-height: var(--line-height-snug);
  }
  
  .heading-6 {
    @apply text-base md:text-lg font-medium;
    line-height: var(--line-height-normal);
  }
  
  .text-body {
    @apply text-base;
    line-height: var(--line-height-relaxed);
  }
  
  .text-caption {
    @apply text-sm;
    color: var(--color-text-secondary);
    line-height: var(--line-height-normal);
  }
  
  .text-overline {
    @apply text-xs uppercase font-medium tracking-wider;
    color: var(--color-text-muted);
  }

  /* === BUTTON COMPONENTS === */
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-all duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed select-none;
    line-height: var(--line-height-none);
  }
  
  .btn-primary {
    background-color: var(--color-primary-600);
    color: white;
    box-shadow: var(--shadow-sm);
  }
  
  .btn-primary:hover:not(:disabled) {
    background-color: var(--color-primary-700);
    box-shadow: var(--shadow-base);
  }
  
  .btn-primary:active:not(:disabled) {
    background-color: var(--color-primary-800);
    box-shadow: var(--shadow-sm);
  }
  
  .btn-primary:focus {
    --tw-ring-color: var(--color-primary-500);
  }
  
  .btn-secondary {
    background-color: var(--color-bg-primary);
    color: var(--color-text-primary);
    border: 1px solid var(--color-border-primary);
  }
  
  .btn-secondary:hover:not(:disabled) {
    background-color: var(--color-bg-secondary);
    border-color: var(--color-border-secondary);
  }
  
  .btn-secondary:focus {
    --tw-ring-color: var(--color-primary-500);
  }
  
  .btn-success {
    background-color: var(--color-success-600);
    color: white;
  }
  
  .btn-success:hover:not(:disabled) {
    background-color: var(--color-success-700);
  }
  
  .btn-warning {
    background-color: var(--color-warning-600);
    color: white;
  }
  
  .btn-warning:hover:not(:disabled) {
    background-color: var(--color-warning-700);
  }
  
  .btn-error {
    background-color: var(--color-error-600);
    color: white;
  }
  
  .btn-error:hover:not(:disabled) {
    background-color: var(--color-error-700);
  }
  
  .btn-ghost {
    background-color: transparent;
    color: var(--color-text-primary);
  }
  
  .btn-ghost:hover:not(:disabled) {
    background-color: var(--color-bg-secondary);
  }

  /* Button Sizes */
  .btn-xs {
    @apply px-2 py-1 text-xs;
  }
  
  .btn-sm {
    @apply px-3 py-1.5 text-sm;
  }
  
  .btn-lg {
    @apply px-6 py-3 text-base;
  }
  
  .btn-xl {
    @apply px-8 py-4 text-lg;
  }

  /* Button States */
  .btn-loading {
    @apply relative text-transparent pointer-events-none;
  }
  
  .btn-loading::after {
    content: '';
    @apply absolute inset-0 flex items-center justify-center;
    background-image: url("data:image/svg+xml,%3csvg class='animate-spin' xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24'%3e%3ccircle class='opacity-25' cx='12' cy='12' r='10' stroke='currentColor' stroke-width='4'%3e%3c/circle%3e%3cpath class='opacity-75' fill='currentColor' d='M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z'%3e%3c/path%3e%3c/svg%3e");
    @apply w-4 h-4;
  }

  /* === INPUT COMPONENTS === */
  .input {
    @apply block w-full px-3 py-2 text-sm border rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-0 disabled:opacity-50 disabled:cursor-not-allowed;
    background-color: var(--color-bg-primary);
    border-color: var(--color-border-primary);
    color: var(--color-text-primary);
  }
  
  .input:focus {
    border-color: var(--color-primary-500);
    --tw-ring-color: var(--color-primary-500);
  }
  
  .input.input-error {
    border-color: var(--color-error-500);
  }
  
  .input.input-error:focus {
    border-color: var(--color-error-500);
    --tw-ring-color: var(--color-error-500);
  }
  
  .input.input-success {
    border-color: var(--color-success-500);
  }
  
  .input-sm {
    @apply px-2 py-1 text-sm;
  }
  
  .input-lg {
    @apply px-4 py-3 text-base;
  }

  /* === SELECT COMPONENTS === */
  .select {
    @apply input appearance-none bg-no-repeat bg-right pr-8;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.5rem center;
    background-size: 1.5em 1.5em;
  }

  /* === TEXTAREA COMPONENTS === */
  .textarea {
    @apply input resize-y min-h-[80px];
  }

  /* === CHECKBOX & RADIO === */
  .checkbox, .radio {
    @apply w-4 h-4 rounded border-2 transition-colors focus:ring-2 focus:ring-offset-0 focus:outline-none;
    border-color: var(--color-border-secondary);
    background-color: var(--color-bg-primary);
  }
  
  .checkbox:checked, .radio:checked {
    background-color: var(--color-primary-600);
    border-color: var(--color-primary-600);
  }
  
  .checkbox:focus, .radio:focus {
    --tw-ring-color: var(--color-primary-500);
  }
  
  .radio {
    @apply rounded-full;
  }

  /* === TOGGLE SWITCH === */
  .toggle {
    @apply relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer;
    background-color: var(--color-gray-200);
  }
  
  .toggle:focus {
    --tw-ring-color: var(--color-primary-500);
  }
  
  .toggle.toggle-checked {
    background-color: var(--color-primary-600);
  }
  
  .toggle-thumb {
    @apply absolute h-4 w-4 rounded-full bg-white shadow-sm transition-transform duration-200 ease-in-out;
    transform: translateX(0.25rem);
  }
  
  .toggle-checked .toggle-thumb {
    transform: translateX(1.5rem);
  }

  /* === CARD COMPONENTS === */
  .card {
    @apply rounded-lg shadow-sm border;
    background-color: var(--color-bg-primary);
    border-color: var(--color-border-primary);
  }
  
  .card-padding {
    @apply p-6;
  }
  
  .card-header {
    @apply px-6 py-4 border-b;
    border-color: var(--color-border-muted);
  }
  
  .card-body {
    @apply p-6;
  }
  
  .card-footer {
    @apply px-6 py-4 border-t;
    border-color: var(--color-border-muted);
  }
  
  .card-hover {
    @apply transition-shadow duration-200;
  }
  
  .card-hover:hover {
    box-shadow: var(--shadow-md);
  }

  /* === BADGE COMPONENTS === */
  .badge {
    @apply inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full;
  }
  
  .badge-primary {
    background-color: var(--color-primary-100);
    color: var(--color-primary-800);
  }
  
  .badge-success {
    background-color: var(--color-success-100);
    color: var(--color-success-800);
  }
  
  .badge-warning {
    background-color: var(--color-warning-100);
    color: var(--color-warning-800);
  }
  
  .badge-error {
    background-color: var(--color-error-100);
    color: var(--color-error-800);
  }
  
  .badge-gray {
    background-color: var(--color-gray-100);
    color: var(--color-gray-800);
  }
  
  .dark .badge-primary {
    background-color: var(--color-primary-900);
    color: var(--color-primary-200);
  }
  
  .dark .badge-success {
    background-color: var(--color-success-900);
    color: var(--color-success-200);
  }
  
  .dark .badge-warning {
    background-color: var(--color-warning-900);
    color: var(--color-warning-200);
  }
  
  .dark .badge-error {
    background-color: var(--color-error-900);
    color: var(--color-error-200);
  }
  
  .dark .badge-gray {
    background-color: var(--color-gray-800);
    color: var(--color-gray-200);
  }

  /* === ALERT COMPONENTS === */
  .alert {
    @apply p-4 rounded-lg border-l-4 flex items-start gap-3;
  }
  
  .alert-success {
    background-color: var(--color-success-50);
    border-color: var(--color-success-500);
    color: var(--color-success-800);
  }
  
  .alert-warning {
    background-color: var(--color-warning-50);
    border-color: var(--color-warning-500);
    color: var(--color-warning-800);
  }
  
  .alert-error {
    background-color: var(--color-error-50);
    border-color: var(--color-error-500);
    color: var(--color-error-800);
  }
  
  .alert-info {
    background-color: var(--color-info-50);
    border-color: var(--color-info-500);
    color: var(--color-info-800);
  }
  
  .dark .alert-success {
    background-color: var(--color-success-900);
    color: var(--color-success-200);
  }
  
  .dark .alert-warning {
    background-color: var(--color-warning-900);
    color: var(--color-warning-200);
  }
  
  .dark .alert-error {
    background-color: var(--color-error-900);
    color: var(--color-error-200);
  }
  
  .dark .alert-info {
    background-color: var(--color-info-900);
    color: var(--color-info-200);
  }

  /* === MODAL COMPONENTS === */
  .modal-backdrop {
    @apply fixed inset-0 flex items-center justify-center p-4;
    background-color: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    z-index: var(--z-modal-backdrop);
  }
  
  .modal-content {
    @apply relative w-full max-w-md max-h-[90vh] overflow-auto rounded-lg shadow-xl;
    background-color: var(--color-bg-primary);
    z-index: var(--z-modal);
  }
  
  .modal-header {
    @apply flex items-center justify-between p-6 border-b;
    border-color: var(--color-border-muted);
  }
  
  .modal-body {
    @apply p-6;
  }
  
  .modal-footer {
    @apply flex justify-end gap-3 p-6 border-t;
    border-color: var(--color-border-muted);
  }

  /* === NAVIGATION COMPONENTS === */
  .navbar {
    @apply flex items-center justify-between px-4 py-3 border-b;
    background-color: var(--color-bg-primary);
    border-color: var(--color-border-primary);
  }
  
  .nav-link {
    @apply px-3 py-2 text-sm font-medium rounded-md transition-colors;
    color: var(--color-text-secondary);
  }
  
  .nav-link:hover {
    color: var(--color-text-primary);
    background-color: var(--color-bg-secondary);
  }
  
  .nav-link.nav-link-active {
    color: var(--color-primary-600);
    background-color: var(--color-primary-50);
  }
  
  .dark .nav-link.nav-link-active {
    color: var(--color-primary-400);
    background-color: var(--color-primary-900);
  }

  /* === BREADCRUMB COMPONENTS === */
  .breadcrumb {
    @apply flex items-center space-x-1 text-sm;
  }
  
  .breadcrumb-item {
    @apply text-gray-500 hover:text-gray-700 transition-colors;
  }
  
  .breadcrumb-item.breadcrumb-current {
    @apply text-gray-900 font-medium;
  }
  
  .breadcrumb-separator {
    @apply text-gray-400 mx-2;
  }

  /* === TABLE COMPONENTS === */
  .table-container {
    @apply overflow-x-auto rounded-lg border;
    border-color: var(--color-border-primary);
  }
  
  .table {
    @apply w-full divide-y;
    divide-color: var(--color-border-primary);
  }
  
  .table-header {
    background-color: var(--color-bg-secondary);
  }
  
  .table-header-cell {
    @apply px-6 py-3 text-left text-xs font-medium uppercase tracking-wider;
    color: var(--color-text-secondary);
  }
  
  .table-body {
    background-color: var(--color-bg-primary);
  }
  
  .table-row {
    @apply divide-x;
    divide-color: var(--color-border-muted);
  }
  
  .table-row:nth-child(even) {
    background-color: var(--color-bg-secondary);
  }
  
  .table-cell {
    @apply px-6 py-4 text-sm;
    color: var(--color-text-primary);
  }

  /* === FORM COMPONENTS === */
  .form-group {
    @apply space-y-1;
  }
  
  .form-label {
    @apply block text-sm font-medium;
    color: var(--color-text-primary);
  }
  
  .form-label.form-label-required::after {
    content: ' *';
    color: var(--color-error-500);
  }
  
  .form-error {
    @apply text-sm;
    color: var(--color-error-600);
  }
  
  .form-help {
    @apply text-sm;
    color: var(--color-text-muted);
  }

  /* === PROGRESS COMPONENTS === */
  .progress {
    @apply w-full h-2 rounded-full overflow-hidden;
    background-color: var(--color-gray-200);
  }
  
  .progress-bar {
    @apply h-full transition-all duration-300 ease-out;
    background-color: var(--color-primary-600);
  }
  
  .progress-sm {
    @apply h-1;
  }
  
  .progress-lg {
    @apply h-3;
  }

  /* === SKELETON LOADING === */
  .skeleton {
    @apply animate-pulse rounded;
    background-color: var(--color-gray-200);
  }
  
  .dark .skeleton {
    background-color: var(--color-gray-700);
  }
  
  .skeleton-text {
    @apply h-4 skeleton;
  }
  
  .skeleton-circle {
    @apply rounded-full skeleton;
  }

  /* === TOOLTIP === */
  .tooltip {
    @apply absolute px-2 py-1 text-xs font-medium text-white rounded shadow-lg pointer-events-none;
    background-color: var(--color-gray-900);
    z-index: var(--z-tooltip);
  }
  
  .tooltip::before {
    content: '';
    @apply absolute w-2 h-2 transform rotate-45;
    background-color: var(--color-gray-900);
  }

  /* === DROPDOWN === */
  .dropdown {
    @apply relative inline-block;
  }
  
  .dropdown-content {
    @apply absolute right-0 mt-2 py-2 w-48 rounded-md shadow-lg border;
    background-color: var(--color-bg-primary);
    border-color: var(--color-border-primary);
    z-index: var(--z-dropdown);
  }
  
  .dropdown-item {
    @apply block px-4 py-2 text-sm transition-colors;
    color: var(--color-text-primary);
  }
  
  .dropdown-item:hover {
    background-color: var(--color-bg-secondary);
  }
  
  .dropdown-divider {
    @apply my-1 border-t;
    border-color: var(--color-border-muted);
  }

  /* === TABS === */
  .tabs {
    @apply border-b;
    border-color: var(--color-border-primary);
  }
  
  .tab-list {
    @apply flex space-x-8;
  }
  
  .tab {
    @apply py-4 px-1 border-b-2 font-medium text-sm transition-colors cursor-pointer;
    border-color: transparent;
    color: var(--color-text-secondary);
  }
  
  .tab:hover {
    color: var(--color-text-primary);
    border-color: var(--color-border-secondary);
  }
  
  .tab.tab-active {
    color: var(--color-primary-600);
    border-color: var(--color-primary-600);
  }
  
  .tab-panel {
    @apply py-6;
  }

  /* === PAGINATION === */
  .pagination {
    @apply flex items-center justify-between;
  }
  
  .pagination-nav {
    @apply flex items-center space-x-1;
  }
  
  .pagination-item {
    @apply px-3 py-2 text-sm font-medium rounded-md transition-colors;
    color: var(--color-text-secondary);
  }
  
  .pagination-item:hover:not(.pagination-disabled) {
    color: var(--color-text-primary);
    background-color: var(--color-bg-secondary);
  }
  
  .pagination-item.pagination-active {
    color: var(--color-primary-600);
    background-color: var(--color-primary-50);
  }
  
  .pagination-item.pagination-disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* === AVATAR === */
  .avatar {
    @apply inline-flex items-center justify-center rounded-full overflow-hidden;
    background-color: var(--color-gray-100);
  }
  
  .avatar-xs {
    @apply w-6 h-6 text-xs;
  }
  
  .avatar-sm {
    @apply w-8 h-8 text-sm;
  }
  
  .avatar-md {
    @apply w-10 h-10 text-base;
  }
  
  .avatar-lg {
    @apply w-12 h-12 text-lg;
  }
  
  .avatar-xl {
    @apply w-16 h-16 text-xl;
  }

  /* === STAT CARD === */
  .stat-card {
    @apply card card-padding space-y-2;
  }
  
  .stat-title {
    @apply text-sm font-medium;
    color: var(--color-text-secondary);
  }
  
  .stat-value {
    @apply text-2xl font-semibold;
    color: var(--color-text-primary);
  }
  
  .stat-change {
    @apply text-sm font-medium;
  }
  
  .stat-change.stat-increase {
    color: var(--color-success-600);
  }
  
  .stat-change.stat-decrease {
    color: var(--color-error-600);
  }

  /* === LAYOUT COMPONENTS === */
  .container {
    @apply w-full mx-auto px-4 sm:px-6 lg:px-8;
  }
  
  .container-sm {
    @apply max-w-3xl;
  }
  
  .container-md {
    @apply max-w-5xl;
  }
  
  .container-lg {
    @apply max-w-7xl;
  }

  /* === SIDEBAR === */
  .sidebar {
    @apply fixed inset-y-0 left-0 w-64 border-r transition-transform duration-300 ease-in-out;
    background-color: var(--color-bg-primary);
    border-color: var(--color-border-primary);
    z-index: var(--z-fixed);
  }
  
  .sidebar-closed {
    transform: translateX(-100%);
  }
  
  .sidebar-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 lg:hidden;
    z-index: var(--z-modal-backdrop);
  }

  /* === TOAST === */
  .toast {
    @apply flex items-center gap-3 p-4 rounded-lg shadow-lg border max-w-sm;
    background-color: var(--color-bg-primary);
    border-color: var(--color-border-primary);
    z-index: var(--z-toast);
  }
  
  .toast-success {
    border-color: var(--color-success-500);
  }
  
  .toast-warning {
    border-color: var(--color-warning-500);
  }
  
  .toast-error {
    border-color: var(--color-error-500);
  }
  
  .toast-info {
    border-color: var(--color-info-500);
  }
}

/* === UTILITY LAYER === */
@layer utilities {
  /* Theme transitions */
  .theme-transition {
    transition: var(--transition-colors);
  }
  
  /* Focus utilities */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
    --tw-ring-color: var(--color-primary-500);
  }
  
  /* Text utilities */
  .text-balance {
    text-wrap: balance;
  }
  
  /* Layout utilities */
  .flex-center {
    @apply flex items-center justify-center;
  }
  
  .flex-between {
    @apply flex items-center justify-between;
  }
  
  .flex-start {
    @apply flex items-center justify-start;
  }
  
  .flex-end {
    @apply flex items-center justify-end;
  }
  
  /* Grid utilities */
  .grid-auto-fit {
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  }
  
  .grid-auto-fill {
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  }
  
  /* Spacing utilities */
  .stack-y > * + * {
    margin-top: var(--spacing-4);
  }
  
  .stack-x > * + * {
    margin-left: var(--spacing-4);
  }
  
  /* Hide utilities */
  .sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
    clip: rect(0, 0, 0, 0);
  }
  
  .not-sr-only {
    @apply static w-auto h-auto p-0 m-0 overflow-visible whitespace-normal;
    clip: auto;
  }
  
  /* Print utilities */
  .print-hidden {
    @apply print:hidden;
  }
  
  .print-only {
    @apply hidden print:block;
  }
}

/* === ANIMATIONS === */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes slideInUp {
  from { 
    opacity: 0; 
    transform: translateY(20px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

@keyframes slideInDown {
  from { 
    opacity: 0; 
    transform: translateY(-20px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

@keyframes slideInLeft {
  from { 
    opacity: 0; 
    transform: translateX(-20px); 
  }
  to { 
    opacity: 1; 
    transform: translateX(0); 
  }
}

@keyframes slideInRight {
  from { 
    opacity: 0; 
    transform: translateX(20px); 
  }
  to { 
    opacity: 1; 
    transform: translateX(0); 
  }
}

@keyframes scaleIn {
  from { 
    opacity: 0; 
    transform: scale(0.9); 
  }
  to { 
    opacity: 1; 
    transform: scale(1); 
  }
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes bounce {
  0%, 100% {
    transform: translateY(-25%);
    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
  }
  50% {
    transform: none;
    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
  }
}

/* Animation utilities */
.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

.animate-fade-out {
  animation: fadeOut 0.3s ease-out;
}

.animate-slide-in-up {
  animation: slideInUp 0.3s ease-out;
}

.animate-slide-in-down {
  animation: slideInDown 0.3s ease-out;
}

.animate-slide-in-left {
  animation: slideInLeft 0.3s ease-out;
}

.animate-slide-in-right {
  animation: slideInRight 0.3s ease-out;
}

.animate-scale-in {
  animation: scaleIn 0.3s ease-out;
}

.animate-spin {
  animation: spin 1s linear infinite;
}

.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-bounce {
  animation: bounce 1s infinite;
}

/* === CRITICAL GLOBAL STYLES === */
.modal-open {
  overflow: hidden;
}

[role="dialog"] {
  @apply flex items-center justify-center;
}

/* === PRINT STYLES === */
@media print {
  .no-print {
    display: none !important;
  }
  
  body {
    background-color: white !important;
    color: black !important;
  }
  
  .card, .modal-content, .container {
    box-shadow: none !important;
    border: 1px solid #ddd !important;
  }
  
  .btn {
    border: 1px solid #000 !important;
  }
}
